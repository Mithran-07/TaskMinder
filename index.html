<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Meeting Notes AI - Login & Upload</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      background: #f5f7fa;
      min-height: 100vh;
    }

    /* Page sections - only one visible at a time */
    section {
      display: none;
      min-height: 100vh;
    }

    section.active {
      display: block;
    }

    /* Navigation buttons */
    .nav-button {
      position: fixed;
      bottom: 30px;
      right: 30px;
      padding: 16px 32px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 18px;
      font-weight: 700;
      cursor: pointer;
      box-shadow: 0 8px 24px rgba(102, 126, 234, 0.6);
      transition: all 0.3s ease;
      z-index: 999999;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .nav-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
    }

    .nav-button:active {
      transform: translateY(0);
    }

    .nav-button.back {
      left: 30px;
      right: auto;
      background: linear-gradient(135deg, #6b7280 0%, #4b5563 100%);
    }

    /* Visme container */
    .visme-container {
      width: 100%;
      min-height: 100vh;
      position: relative;
    }

    /* Debug: Make Visme divs visible */
    .visme_d {
      min-height: 100vh;
      width: 100%;
      display: block;
    }

    /* Upload page full-screen wrapper */
    #page-upload.active {
      background: linear-gradient(135deg, #4a6fa5 0%, #3a5a8c 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
      position: relative;
      overflow-x: hidden;
    }

    /* Animated background elements */
    .bg-decoration {
      position: absolute;
      border-radius: 50%;
      opacity: 0.1;
      animation: bgFloat 20s infinite ease-in-out;
      pointer-events: none;
    }

    .bg-decoration:nth-child(1) {
      width: 300px;
      height: 300px;
      background: white;
      top: -100px;
      left: -100px;
      animation-delay: 0s;
    }

    .bg-decoration:nth-child(2) {
      width: 200px;
      height: 200px;
      background: white;
      bottom: -50px;
      right: -50px;
      animation-delay: 5s;
    }

    .bg-decoration:nth-child(3) {
      width: 150px;
      height: 150px;
      background: white;
      top: 50%;
      right: 10%;
      animation-delay: 10s;
    }

    @keyframes bgFloat {
      0%, 100% {
        transform: translateY(0) translateX(0) scale(1) rotate(0deg);
      }
      33% {
        transform: translateY(-30px) translateX(20px) scale(1.05) rotate(120deg);
      }
      66% {
        transform: translateY(20px) translateX(-20px) scale(0.95) rotate(240deg);
      }
    }

    /* Additional interactive elements */
    .floating-shapes {
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      pointer-events: none;
      overflow: hidden;
    }

    .shape {
      position: absolute;
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0.05));
      border-radius: 50%;
      backdrop-filter: blur(10px);
    }

    .shape:nth-child(1) {
      width: 80px;
      height: 80px;
      top: 20%;
      left: 15%;
      animation: float1 8s infinite ease-in-out;
    }

    .shape:nth-child(2) {
      width: 60px;
      height: 60px;
      top: 60%;
      left: 80%;
      animation: float2 10s infinite ease-in-out;
    }

    .shape:nth-child(3) {
      width: 100px;
      height: 100px;
      top: 75%;
      left: 20%;
      animation: float3 12s infinite ease-in-out;
    }

    .shape:nth-child(4) {
      width: 50px;
      height: 50px;
      top: 35%;
      left: 75%;
      animation: float1 7s infinite ease-in-out reverse;
    }

    .shape:nth-child(5) {
      width: 70px;
      height: 70px;
      top: 85%;
      left: 60%;
      animation: float2 9s infinite ease-in-out reverse;
    }

    @keyframes float1 {
      0%, 100% {
        transform: translate(0, 0) rotate(0deg);
        opacity: 0.3;
      }
      50% {
        transform: translate(30px, -40px) rotate(180deg);
        opacity: 0.6;
      }
    }

    @keyframes float2 {
      0%, 100% {
        transform: translate(0, 0) rotate(0deg) scale(1);
        opacity: 0.4;
      }
      50% {
        transform: translate(-40px, 30px) rotate(-180deg) scale(1.2);
        opacity: 0.7;
      }
    }

    @keyframes float3 {
      0%, 100% {
        transform: translate(0, 0) rotate(0deg);
        opacity: 0.2;
      }
      33% {
        transform: translate(20px, -30px) rotate(120deg);
        opacity: 0.5;
      }
      66% {
        transform: translate(-30px, 20px) rotate(240deg);
        opacity: 0.4;
      }
    }

    /* Animated Character Illustration */
    .document-cards {
      position: relative;
      width: 100%;
      height: 300px;
      margin: 20px auto;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    /* Animated character SVG container */
    .animated-character {
      width: 280px;
      height: 280px;
      position: relative;
      animation: characterBounce 3s ease-in-out infinite;
      filter: drop-shadow(0 20px 40px rgba(0, 0, 0, 0.3));
    }

    @keyframes characterBounce {
      0%, 100% {
        transform: translateY(0px) scale(1);
      }
      50% {
        transform: translateY(-30px) scale(1.03);
      }
    }

    /* Floating elements around character */
    .float-element {
      position: absolute;
      border-radius: 50%;
      opacity: 0.15;
      background: white;
    }

    .float-element:nth-child(1) {
      width: 60px;
      height: 60px;
      top: 10%;
      left: 5%;
      animation: floatAround1 4s ease-in-out infinite;
    }

    .float-element:nth-child(2) {
      width: 40px;
      height: 40px;
      top: 15%;
      right: 10%;
      animation: floatAround2 5s ease-in-out infinite;
    }

    .float-element:nth-child(3) {
      width: 50px;
      height: 50px;
      bottom: 20%;
      left: 10%;
      animation: floatAround3 4.5s ease-in-out infinite;
    }

    .float-element:nth-child(4) {
      width: 35px;
      height: 35px;
      bottom: 15%;
      right: 8%;
      animation: floatAround4 3.8s ease-in-out infinite;
    }

    @keyframes floatAround1 {
      0%, 100% {
        transform: translate(0, 0) scale(1);
        opacity: 0.15;
      }
      50% {
        transform: translate(20px, -25px) scale(1.15);
        opacity: 0.25;
      }
    }

    @keyframes floatAround2 {
      0%, 100% {
        transform: translate(0, 0) scale(1);
        opacity: 0.15;
      }
      50% {
        transform: translate(-25px, 20px) scale(1.2);
        opacity: 0.25;
      }
    }

    @keyframes floatAround3 {
      0%, 100% {
        transform: translate(0, 0) scale(1) rotate(0deg);
        opacity: 0.15;
      }
      50% {
        transform: translate(15px, -20px) scale(1.1) rotate(180deg);
        opacity: 0.25;
      }
    }

    @keyframes floatAround4 {
      0%, 100% {
        transform: translate(0, 0) scale(1) rotate(0deg);
        opacity: 0.15;
      }
      50% {
        transform: translate(-20px, -15px) scale(1.25) rotate(-180deg);
        opacity: 0.25;
      }
    }

    /* Main character design */
    .character-body {
      width: 180px;
      height: 180px;
      background: linear-gradient(145deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.85) 100%);
      border-radius: 50%;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      box-shadow: 
        0 20px 60px rgba(0, 0, 0, 0.3),
        inset 0 -8px 25px rgba(58, 90, 140, 0.15),
        inset 0 8px 25px rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(10px);
    }

    /* Animated icon in center */
    .center-icon {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 80px;
      animation: iconPulse 2s ease-in-out infinite;
      text-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    }

    @keyframes iconPulse {
      0%, 100% {
        transform: translate(-50%, -50%) scale(1);
        filter: brightness(1);
      }
      50% {
        transform: translate(-50%, -50%) scale(1.1);
        filter: brightness(1.2);
      }
    }

    /* Orbiting elements */
    .orbit-ring {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 250px;
      height: 250px;
      border: 2px dashed rgba(255, 255, 255, 0.2);
      border-radius: 50%;
      animation: rotateRing 20s linear infinite;
    }

    @keyframes rotateRing {
      from {
        transform: translate(-50%, -50%) rotate(0deg);
      }
      to {
        transform: translate(-50%, -50%) rotate(360deg);
      }
    }

    .orbit-dot {
      position: absolute;
      width: 12px;
      height: 12px;
      background: rgba(255, 255, 255, 0.6);
      border-radius: 50%;
      box-shadow: 0 4px 15px rgba(255, 255, 255, 0.3);
    }

    .orbit-dot:nth-child(1) {
      top: 0;
      left: 50%;
      transform: translateX(-50%);
    }

    .orbit-dot:nth-child(2) {
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
    }

    .orbit-dot:nth-child(3) {
      top: 50%;
      left: 0;
      transform: translateY(-50%);
    }

    .orbit-dot:nth-child(4) {
      top: 50%;
      right: 0;
      transform: translateY(-50%);
    }

    /* Upload page container */
    .upload-container {
      display: grid;
      grid-template-columns: 1fr 1fr;
      max-width: 1200px;
      width: 100%;
      gap: 40px;
      align-items: center;
      position: relative;
      z-index: 10;
    }

    /* Animation section */
    .animation-section {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      color: white;
      text-align: center;
    }

    .animation-section h1 {
      font-size: 42px;
      font-weight: 800;
      margin-bottom: 12px;
      text-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
      line-height: 1.2;
    }

    .animation-section p {
      font-size: 18px;
      opacity: 0.95;
      margin-bottom: 20px;
      max-width: 400px;
    }

    .illustration {
      position: relative;
      width: 250px;
      height: 250px;
      margin: 0 auto;
    }

    .illustration img {
      width: 230px;
      height: auto;
      animation: characterFloat 3s ease-in-out infinite;
      filter: drop-shadow(0 10px 30px rgba(0, 0, 0, 0.3));
      transition: transform 0.3s ease;
    }

    .illustration img:hover {
      transform: scale(1.05);
    }

    @keyframes characterFloat {
      0%, 100% {
        transform: translateY(0px) rotate(-2deg);
      }
      50% {
        transform: translateY(-20px) rotate(2deg);
      }
    }

    /* Pulse animation for form card */
    @keyframes cardPulse {
      0%, 100% {
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      }
      50% {
        box-shadow: 0 25px 70px rgba(124, 58, 237, 0.4);
      }
    }

    /* Form card */
    .form-card {
      background: white;
      border-radius: 24px;
      padding: 32px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      position: relative;
      max-height: 85vh;
      overflow-y: auto;
      animation: cardPulse 4s ease-in-out infinite;
      transition: transform 0.3s ease;
    }

    .form-card:hover {
      transform: translateY(-5px);
    }

    .form-card h2 {
      font-size: 26px;
      font-weight: 700;
      color: #1f2937;
      margin-bottom: 6px;
    }

    .form-card .subtitle {
      color: #6b7280;
      font-size: 14px;
      margin-bottom: 24px;
    }

    /* Form groups */
    .form-group {
      margin-bottom: 18px;
    }

    .form-group label {
      display: block;
      font-weight: 600;
      color: #374151;
      margin-bottom: 8px;
      font-size: 14px;
    }

    .form-group input[type="text"],
    .form-group input[type="date"],
    .form-group input[type="number"],
    .form-group textarea {
      width: 100%;
      padding: 12px 16px;
      border: 2px solid #e5e7eb;
      border-radius: 10px;
      font-size: 15px;
      font-family: inherit;
      transition: all 0.3s ease;
      background: #f9fafb;
    }

    .form-group input:focus,
    .form-group textarea:focus {
      outline: none;
      border-color: #7c3aed;
      background: white;
      box-shadow: 0 0 0 4px rgba(124, 58, 237, 0.1);
      transform: translateY(-2px);
    }

    .form-group input:not(:placeholder-shown),
    .form-group textarea:not(:placeholder-shown) {
      border-color: #10b981;
      background: #ecfdf5;
    }

    .form-group textarea {
      resize: vertical;
      min-height: 80px;
    }

    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
    }

    /* File upload custom styling */
    .file-upload-wrapper {
      position: relative;
    }

    .file-upload-wrapper input[type="file"] {
      display: none;
    }

    .file-upload-label {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 32px 20px;
      border: 3px dashed #d1d5db;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.3s ease;
      background: #f9fafb;
      text-align: center;
    }

    .file-upload-label:hover {
      border-color: #7c3aed;
      background: #f3f4f6;
    }

    .file-upload-label.has-file {
      border-color: #10b981;
      background: #ecfdf5;
      border-style: solid;
    }

    .file-upload-icon {
      font-size: 40px;
      margin-bottom: 12px;
    }

    .file-upload-text {
      color: #4b5563;
      font-weight: 600;
      font-size: 15px;
      margin-bottom: 4px;
    }

    .file-upload-hint {
      color: #9ca3af;
      font-size: 12px;
    }

    .file-name-display {
      margin-top: 12px;
      color: #059669;
      font-weight: 600;
      font-size: 14px;
      display: none;
    }

    /* Error message */
    .error-message {
      color: #dc2626;
      font-size: 13px;
      margin-top: 6px;
      display: none;
    }

    .form-group.error input,
    .form-group.error textarea,
    .form-group.error .file-upload-label {
      border-color: #dc2626;
    }

    .form-group.error .error-message {
      display: block;
    }

    /* Buttons */
    .button-group {
      display: flex;
      gap: 12px;
      margin-top: 24px;
    }

    .btn-primary-upload {
      flex: 1;
      padding: 16px 32px;
      background: linear-gradient(135deg, #7c3aed 0%, #6366f1 100%);
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(124, 58, 237, 0.4);
      position: relative;
      overflow: hidden;
    }

    .btn-primary-upload::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
      transition: left 0.5s ease;
    }

    .btn-primary-upload:hover::before {
      left: 100%;
    }

    .btn-primary-upload:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(124, 58, 237, 0.6);
    }

    .btn-primary-upload:active {
      transform: translateY(0);
    }

    .btn-secondary-upload {
      padding: 16px 32px;
      background: white;
      color: #6b7280;
      border: 2px solid #e5e7eb;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      justify-content: center;
    }

    .btn-secondary-upload:hover {
      border-color: #7c3aed;
      color: #7c3aed;
    }

    /* Custom scrollbar */
    .form-card::-webkit-scrollbar {
      width: 8px;
    }

    .form-card::-webkit-scrollbar-track {
      background: #f1f1f1;
      border-radius: 10px;
    }

    .form-card::-webkit-scrollbar-thumb {
      background: #7c3aed;
      border-radius: 10px;
    }

    /* Responsive adjustments */
    @media (max-width: 968px) {
      .upload-container {
        grid-template-columns: 1fr;
        gap: 40px;
      }

      .animation-section {
        order: -1;
      }

      .animation-section h1 {
        font-size: 32px;
      }

      .illustration {
        width: 200px;
        height: 200px;
      }

      .form-card {
        padding: 30px;
      }

      .form-row {
        grid-template-columns: 1fr;
      }
    }

    @media (max-width: 768px) {
      .nav-button {
        bottom: 20px;
        right: 20px;
        padding: 12px 20px;
        font-size: 14px;
      }

      .nav-button.back {
        left: 20px;
      }

      #page-upload.active {
        padding: 10px;
      }

      .form-card {
        padding: 24px;
      }

      .button-group {
        flex-direction: column;
      }

      .animation-section h1 {
        font-size: 28px;
      }

      .animation-section p {
        font-size: 16px;
      }
    }
  </style>
</head>
<body>

  <!-- PAGE 1: Login Page -->
  <section id="page-login" class="active">
    <div class="visme-container">
      <iframe src="https://forms.visme.co/formsPlayer/nmnr0xr4-email-list-sign-up-form-template" 
              frameborder="0" 
              style="width: 100%; height: 100vh; border: none;"
              allowfullscreen>
      </iframe>
    </div>
    <button class="nav-button" id="btn-to-upload">Continue to Upload ‚Üí</button>
  </section>

  <!-- PAGE 2: Upload Page -->
  <section id="page-upload">
    <!-- Background decoration -->
    <div class="bg-decoration"></div>
    <div class="bg-decoration"></div>
    <div class="bg-decoration"></div>

    <!-- Floating shapes for interactive animation -->
    <div class="floating-shapes">
      <div class="shape"></div>
      <div class="shape"></div>
      <div class="shape"></div>
      <div class="shape"></div>
      <div class="shape"></div>
    </div>

    <div class="upload-container">
      <!-- Animation Section -->
      <div class="animation-section">
        <h1>üìπ Upload Your Meeting</h1>
        <p>Transform your meeting recordings into actionable insights with AI-powered analysis</p>
        
        <div class="illustration">
          <!-- Animated Interactive Character -->
          <div class="document-cards">
            <!-- Floating elements -->
            <div class="float-element"></div>
            <div class="float-element"></div>
            <div class="float-element"></div>
            <div class="float-element"></div>
            
            <!-- Main character -->
            <div class="animated-character">
              <div class="orbit-ring">
                <div class="orbit-dot"></div>
                <div class="orbit-dot"></div>
                <div class="orbit-dot"></div>
                <div class="orbit-dot"></div>
              </div>
              <div class="character-body"></div>
              <div class="center-icon">üé¨</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Form Section -->
      <div class="form-card">
        <h2>Meeting Details</h2>
        <p class="subtitle">Fill in the details below to analyze your meeting</p>

        <form id="meeting-form">
          <!-- Meeting Title -->
          <div class="form-group">
            <label for="meeting-title">Meeting Title <span style="color: #dc2626;">*</span></label>
            <input type="text" id="meeting-title" name="title" placeholder="e.g., Q4 Planning Session" />
            <div class="error-message">Meeting title is required</div>
          </div>

          <!-- User Name -->
          <div class="form-group">
            <label for="user-name">Your Name <span style="color: #dc2626;">*</span></label>
            <input type="text" id="user-name" name="user_name" placeholder="e.g., John Doe" />
            <div class="error-message">Your name is required</div>
          </div>

          <!-- Date and Day -->
          <div class="form-row">
            <div class="form-group">
              <label for="meeting-date">Date <span style="color: #dc2626;">*</span></label>
              <input type="date" id="meeting-date" name="date" />
              <div class="error-message">Date is required</div>
            </div>
            <div class="form-group">
              <label for="day-of-week">Day of Week</label>
              <input type="text" id="day-of-week" name="day" placeholder="Auto-filled" readonly style="background: #f3f4f6;" />
            </div>
          </div>

          <!-- Number of Attendees -->
          <div class="form-group">
            <label for="num-attendees">Number of Attendees <span style="color: #dc2626;">*</span></label>
            <input type="number" id="num-attendees" name="attendees_count" min="1" placeholder="e.g., 5" />
            <div class="error-message">Number of attendees is required</div>
          </div>

          <!-- Attendee Names -->
          <div class="form-group">
            <label for="attendee-names">Attendee Names <span style="color: #dc2626;">*</span></label>
            <textarea id="attendee-names" name="attendee_names" placeholder="Enter names separated by commas (e.g., John Doe, Jane Smith, Alex Johnson)"></textarea>
            <div class="error-message">Attendee names are required</div>
          </div>

          <!-- Video Upload -->
          <div class="form-group">
            <label>Upload Meeting Video <span style="color: #dc2626;">*</span></label>
            <div class="file-upload-wrapper">
              <input type="file" id="video-file" name="video" accept="video/mp4,video/mov,video/avi,video/mkv,video/*" />
              <label for="video-file" class="file-upload-label" id="file-label">
                <div class="file-upload-icon">üé¨</div>
                <div class="file-upload-text">Click to select video file</div>
                <div class="file-upload-hint">Supports MP4, MOV, AVI, MKV (Max 500MB)</div>
              </label>
              <div class="file-name-display" id="file-display"></div>
            </div>
            <div class="error-message">Video file is required</div>
          </div>

          <!-- Optional Notes -->
          <div class="form-group">
            <label for="notes">Additional Notes (Optional)</label>
            <textarea id="notes" name="notes" placeholder="Any additional context or notes about this meeting..."></textarea>
          </div>

          <!-- Buttons -->
          <div class="button-group">
            <button type="button" class="btn-secondary-upload" id="btn-back-to-login">‚Üê Back to Login</button>
            <button type="submit" class="btn-primary-upload">Upload & Process Meeting</button>
          </div>
        </form>
      </div>
    </div>
  </section>

  <!-- PAGE 3: Results Page -->
  <section id="page-results">
    <div style="min-height: 100vh; background: linear-gradient(135deg, #4a6fa5 0%, #3a5a8c 100%); padding: 40px 20px; position: relative; overflow: hidden;">
      <!-- Background decoration (same as upload page) -->
      <div class="bg-decoration"></div>
      <div class="bg-decoration"></div>
      <div class="bg-decoration"></div>

      <!-- Floating shapes -->
      <div class="floating-shapes">
        <div class="shape"></div>
        <div class="shape"></div>
        <div class="shape"></div>
        <div class="shape"></div>
        <div class="shape"></div>
      </div>

      <!-- Loading State -->
      <div id="loading-state" style="display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 80vh; color: white; text-align: center;">
        <div style="font-size: 80px; animation: pulse 2s ease-in-out infinite;">ü§ñ</div>
        <h2 style="font-size: 32px; margin: 20px 0 10px; font-weight: 700;">Analyzing Your Meeting...</h2>
        <p style="font-size: 18px; color: rgba(255,255,255,0.8); margin-bottom: 30px;">AI is processing your video and extracting insights</p>
        
        <!-- Progress bar -->
        <div style="width: 300px; height: 6px; background: rgba(255,255,255,0.2); border-radius: 10px; overflow: hidden; margin-bottom: 20px;">
          <div id="progress-bar" style="height: 100%; background: linear-gradient(90deg, #7c3aed, #6366f1); width: 0%; transition: width 0.3s ease;"></div>
        </div>
        
        <p id="loading-text" style="font-size: 16px; color: rgba(255,255,255,0.7);">Processing: 0%</p>
      </div>

      <!-- Results State -->
      <div id="results-state" style="display: none; max-width: 1200px; margin: 0 auto;">
        <!-- Header -->
        <div style="text-align: center; margin-bottom: 40px; color: white;">
          <div style="font-size: 60px; margin-bottom: 16px;">‚úÖ</div>
          <h1 style="font-size: 36px; font-weight: 800; margin: 0 0 12px;">Analysis Complete!</h1>
          <p style="font-size: 18px; color: rgba(255,255,255,0.8);">Here are the key insights from your meeting</p>
        </div>

        <!-- Results Cards Grid -->
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 24px; margin-bottom: 30px;">
          
          <!-- Meeting Info Card -->
          <div class="result-card" style="background: white; border-radius: 20px; padding: 30px; box-shadow: 0 10px 40px rgba(0,0,0,0.2);">
            <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 20px;">
              <div style="font-size: 32px;">üìã</div>
              <h3 style="font-size: 22px; font-weight: 700; color: #1f2937; margin: 0;">Meeting Info</h3>
            </div>
            <div id="meeting-info-content">
              <div style="margin-bottom: 12px;">
                <div style="font-size: 13px; color: #6b7280; font-weight: 600; text-transform: uppercase; margin-bottom: 4px;">Title</div>
                <div id="result-title" style="font-size: 18px; font-weight: 600; color: #1f2937;">‚Äî</div>
              </div>
              <div style="margin-bottom: 12px;">
                <div style="font-size: 13px; color: #6b7280; font-weight: 600; text-transform: uppercase; margin-bottom: 4px;">Date</div>
                <div id="result-date" style="font-size: 16px; color: #374151;">‚Äî</div>
              </div>
              <div>
                <div style="font-size: 13px; color: #6b7280; font-weight: 600; text-transform: uppercase; margin-bottom: 4px;">Attendees</div>
                <div id="result-attendees" style="font-size: 16px; color: #374151;">‚Äî</div>
              </div>
            </div>
          </div>

          <!-- Team Members Card -->
          <div class="result-card" style="background: white; border-radius: 20px; padding: 30px; box-shadow: 0 10px 40px rgba(0,0,0,0.2);">
            <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 20px;">
              <div style="font-size: 32px;">üë•</div>
              <h3 style="font-size: 22px; font-weight: 700; color: #1f2937; margin: 0;">Team Members</h3>
            </div>
            <div id="members-list" style="display: flex; flex-direction: column; gap: 10px;"></div>
          </div>

          <!-- Total Tasks Card -->
          <div class="result-card" style="background: white; border-radius: 20px; padding: 30px; box-shadow: 0 10px 40px rgba(0,0,0,0.2);">
            <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 20px;">
              <div style="font-size: 32px;">üìä</div>
              <h3 style="font-size: 22px; font-weight: 700; color: #1f2937; margin: 0;">Total Tasks</h3>
            </div>
            <div id="task-count-display" style="display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 20px;">
              <div id="task-count-number" style="font-size: 72px; font-weight: 800; color: #7c3aed; line-height: 1; margin-bottom: 12px;">0</div>
              <div style="font-size: 16px; color: #6b7280; font-weight: 600; text-align: center;">Tasks Assigned to You</div>
            </div>
          </div>

          <!-- Key Decisions Card -->
          <div class="result-card" style="background: white; border-radius: 20px; padding: 30px; box-shadow: 0 10px 40px rgba(0,0,0,0.2); grid-column: 1 / -1;">
            <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 20px;">
              <div style="font-size: 32px;">‚öñ</div>
              <h3 style="font-size: 22px; font-weight: 700; color: #1f2937; margin: 0;">Important Decisions</h3>
            </div>
            <div id="decisions-list" style="display: flex; flex-direction: column; gap: 14px;"></div>
          </div>

          <!-- Tasks Assigned Card -->
          <div class="result-card" style="background: white; border-radius: 20px; padding: 30px; box-shadow: 0 10px 40px rgba(0,0,0,0.2); grid-column: 1 / -1;">
            <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 20px;">
              <div style="font-size: 32px;">‚úÖ</div>
              <h3 style="font-size: 22px; font-weight: 700; color: #1f2937; margin: 0;">Tasks Assigned to <span id="user-name-display" style="color: #7c3aed;"></span></h3>
            </div>
            <div id="tasks-list" style="display: flex; flex-direction: column; gap: 14px;"></div>
          </div>
        </div>

        <!-- Action Buttons -->
        <div style="display: flex; gap: 16px; justify-content: center; flex-wrap: wrap;">
          <button onclick="location.reload()" style="padding: 16px 32px; background: linear-gradient(135deg, #7c3aed 0%, #6366f1 100%); color: white; border: none; border-radius: 12px; font-size: 16px; font-weight: 700; cursor: pointer; box-shadow: 0 4px 15px rgba(124, 58, 237, 0.4); transition: all 0.3s ease;">üîÑ Analyze Another Meeting</button>
          <button onclick="window.print()" style="padding: 16px 32px; background: white; color: #374151; border: 2px solid #e5e7eb; border-radius: 12px; font-size: 16px; font-weight: 700; cursor: pointer; transition: all 0.3s ease;">üñ® Print Results</button>
        </div>
      </div>
    </div>

    <style>
      @keyframes pulse {
        0%, 100% { transform: scale(1); opacity: 1; }
        50% { transform: scale(1.1); opacity: 0.8; }
      }
    </style>
  </section>

  <!-- Visme embed script (loaded once) -->
  <script src="https://static-bundles.visme.co/forms/vismeforms-embed.js"></script>

  <!-- Page switching logic -->
  <script>
    // Get page sections
    const pageLogin = document.getElementById('page-login');
    const pageUpload = document.getElementById('page-upload');
    const pageResults = document.getElementById('page-results');
    
    // Get buttons
    const btnToUpload = document.getElementById('btn-to-upload');
    const btnToLogin = document.getElementById('btn-to-login');

    // Function to show a specific page
    function showPage(pageToShow) {
      // Hide all pages
      pageLogin.classList.remove('active');
      pageUpload.classList.remove('active');
      if (pageResults) pageResults.classList.remove('active');
      
      // Show the requested page
      pageToShow.classList.add('active');
      
      // Scroll to top
      window.scrollTo({ top: 0, behavior: 'smooth' });
      
      // Trigger Visme to re-render when page changes
      if (window.visme && window.visme.reload) {
        setTimeout(() => window.visme.reload(), 100);
      }
    }

    // Button event listeners
    btnToUpload.addEventListener('click', function() {
      showPage(pageUpload);
    });

    // Give Visme script time to initialize
    window.addEventListener('load', function() {
      console.log('Page loaded, Visme should initialize');
      // Force a small delay to ensure Visme embeds render
      setTimeout(function() {
        if (!document.querySelector('iframe[src*="visme"]')) {
          console.warn('Visme iframes not detected - check embeds');
        }
      }, 2000);
    });

    // Auto-fill day of week when date is selected
    const dateInput = document.getElementById('meeting-date');
    const dayInput = document.getElementById('day-of-week');
    const days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];

    if (dateInput && dayInput) {
      dateInput.addEventListener('change', function() {
        if (this.value) {
          const date = new Date(this.value + 'T00:00:00');
          dayInput.value = days[date.getDay()];
        }
      });
    }

    // Handle file upload
    const fileInput = document.getElementById('video-file');
    const fileLabel = document.getElementById('file-label');
    const fileDisplay = document.getElementById('file-display');

    if (fileInput && fileLabel && fileDisplay) {
      fileInput.addEventListener('change', function(e) {
        const file = e.target.files[0];
        if (file) {
          fileLabel.classList.add('has-file');
          const sizeMB = (file.size / (1024 * 1024)).toFixed(2);
          fileDisplay.textContent = `‚úì ${file.name} (${sizeMB} MB)`;
          fileDisplay.style.display = 'block';
          
          // Remove error if exists
          fileInput.closest('.form-group').classList.remove('error');
        }
      });
    }

    // Form validation and submission
    const form = document.getElementById('meeting-form');

    if (form) {
      form.addEventListener('submit', function(e) {
        e.preventDefault();

        // Clear previous errors
        document.querySelectorAll('.form-group').forEach(group => {
          group.classList.remove('error');
        });

        let isValid = true;

        // Validate Meeting Title
        const title = document.getElementById('meeting-title');
        if (!title.value.trim()) {
          title.closest('.form-group').classList.add('error');
          isValid = false;
        }

        // Validate User Name
        const userName = document.getElementById('user-name');
        if (!userName.value.trim()) {
          userName.closest('.form-group').classList.add('error');
          isValid = false;
        }

        // Validate Date
        const date = document.getElementById('meeting-date');
        if (!date.value) {
          date.closest('.form-group').classList.add('error');
          isValid = false;
        }

        // Validate Number of Attendees
        const numAttendees = document.getElementById('num-attendees');
        if (!numAttendees.value || numAttendees.value < 1) {
          numAttendees.closest('.form-group').classList.add('error');
          isValid = false;
        }

        // Validate Attendee Names
        const attendeeNames = document.getElementById('attendee-names');
        if (!attendeeNames.value.trim()) {
          attendeeNames.closest('.form-group').classList.add('error');
          isValid = false;
        }

        // Validate Video File
        const videoFile = document.getElementById('video-file');
        if (!videoFile.files.length) {
          videoFile.closest('.form-group').classList.add('error');
          isValid = false;
        }

        if (!isValid) {
          console.warn('Form validation failed. Please fill all required fields.');
          return;
        }

        // Collect form data
        const formData = {
          title: title.value.trim(),
          userName: userName.value.trim(),
          date: date.value,
          dayOfWeek: dayInput.value,
          numberOfAttendees: numAttendees.value,
          attendeeNames: attendeeNames.value.trim(),
          videoFileName: videoFile.files[0].name,
          videoFileSize: videoFile.files[0].size,
          notes: document.getElementById('notes').value.trim()
        };

        console.log('üöÄ Processing meeting data:', formData);

        // Navigate to results page
        showPage(pageResults);
        
        // Show loading state
        const loadingState = document.getElementById('loading-state');
        const resultsState = document.getElementById('results-state');
        
        if (loadingState) loadingState.style.display = 'flex';
        if (resultsState) resultsState.style.display = 'none';
        
        // Animate progress
        let progress = 0;
        const progressInterval = setInterval(() => {
          progress += 10;
          const progressBar = document.getElementById('progress-bar');
          const loadingText = document.getElementById('loading-text');
          if (progressBar) progressBar.style.width = progress + '%';
          if (loadingText) loadingText.textContent = `Processing: ${progress}%`;
          if (progress >= 100) {
            clearInterval(progressInterval);
          }
        }, 1000);

        // Prepare FormData for n8n webhook
        const uploadData = new FormData();
        uploadData.append('title', formData.title);
        uploadData.append('userName', formData.userName);
        uploadData.append('date', formData.date);
        uploadData.append('dayOfWeek', formData.dayOfWeek);
        uploadData.append('numberOfAttendees', formData.numberOfAttendees);
        uploadData.append('attendeeNames', formData.attendeeNames);
        uploadData.append('notes', formData.notes);
        uploadData.append('video', videoFile.files[0]);
        uploadData.append('videoFileName', formData.videoFileName);
        uploadData.append('videoFileSize', formData.videoFileSize.toString());

        // Wait 10 seconds then show results
        setTimeout(() => {
          console.log('‚è∞ 10 seconds elapsed, showing results...');
          clearInterval(progressInterval);
          
          // Mock data for demonstration
          const mockData = {
            decisions: [
              'Approved Q4 marketing budget of $50,000',
              'Decided to launch new product feature by December 15th',
              'Agreed to increase team size by 2 developers'
            ],
            tasks: [
              { task: 'Create marketing campaign deck with Q4 strategy', deadline: '2025-11-22' },
              { task: 'Review and finalize budget allocation spreadsheet', deadline: '2025-11-20' },
              { task: 'Schedule follow-up meeting with stakeholders', deadline: '2025-11-18' }
            ]
          };
          
          displayResults(mockData, formData);
          
          // Reset form in background
          setTimeout(() => {
            form.reset();
            fileLabel.classList.remove('has-file');
            fileDisplay.style.display = 'none';
          }, 500);
        }, 10000);
        
        // Send to n8n webhook in background (non-blocking)
        fetch('https://mithran.app.n8n.cloud/webhook-test/7aa12d57-4ffd-42c1-9c5c-d5bc57791847', {
          method: 'POST',
          body: uploadData,
          mode: 'cors'
        })
        .then(response => response.text())
        .then(data => console.log('üì° Webhook response:', data))
        .catch(error => console.log('‚ö† Webhook error (non-blocking):', error));
      });
    }

    // Back to login button handler (must be after showPage function is defined)
    const btnBackToLogin = document.getElementById('btn-back-to-login');
    if (btnBackToLogin) {
      btnBackToLogin.addEventListener('click', function(e) {
        e.preventDefault();
        showPage(pageLogin);
      });
    }

    // Function to display AI results
    function displayResults(data, formData) {
      console.log('üìä Displaying results...');
      
      // Hide loading, show results
      const loadingState = document.getElementById('loading-state');
      const resultsState = document.getElementById('results-state');
      
      if (loadingState) loadingState.style.display = 'none';
      if (resultsState) resultsState.style.display = 'block';
      
      // Populate meeting info
      const titleEl = document.getElementById('result-title');
      const dateEl = document.getElementById('result-date');
      const attendeesEl = document.getElementById('result-attendees');
      const userNameDisplay = document.getElementById('user-name-display');
      
      if (titleEl) titleEl.textContent = formData.title;
      if (dateEl) dateEl.textContent = new Date(formData.date).toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });
      if (attendeesEl) attendeesEl.textContent = `${formData.numberOfAttendees} participants`;
      if (userNameDisplay) userNameDisplay.textContent = formData.userName;
      
      // Populate team members
      const membersList = document.getElementById('members-list');
      if (membersList) {
        const members = formData.attendeeNames.split(',').map(m => m.trim()).filter(m => m);
        membersList.innerHTML = members.map((member, idx) => `
          <div style="display: flex; align-items: center; gap: 12px; padding: 12px; background: #f3f4f6; border-radius: 10px;">
            <div style="width: 40px; height: 40px; border-radius: 50%; background: linear-gradient(135deg, #7c3aed, #6366f1); display: flex; align-items: center; justify-content: center; color: white; font-weight: 700; font-size: 16px;">${member.charAt(0).toUpperCase()}</div>
            <div style="font-weight: 600; color: #1f2937; font-size: 15px;">${member}</div>
          </div>
        `).join('');
      }
      
      // Populate decisions
      const decisionsList = document.getElementById('decisions-list');
      if (decisionsList) {
        const decisions = data.decisions || [];
        decisionsList.innerHTML = decisions.map((decision, idx) => `
          <div style="display: flex; gap: 12px; padding: 16px; background: #fef3c7; border-left: 4px solid #f59e0b; border-radius: 10px;">
            <div style="font-size: 24px; flex-shrink: 0;">üìå</div>
            <div style="color: #78350f; font-size: 15px; line-height: 1.6; font-weight: 500;">${decision}</div>
          </div>
        `).join('');
      }
      
      // Populate tasks
      const tasksList = document.getElementById('tasks-list');
      if (tasksList) {
        const tasks = data.tasks || [];
        const taskCountNumber = document.getElementById('task-count-number');
        if (taskCountNumber) {
          taskCountNumber.textContent = tasks.length;
        }
        
        tasksList.innerHTML = tasks.map((taskItem, idx) => {
          const deadlineDate = new Date(taskItem.deadline);
          const formattedDeadline = deadlineDate.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
          const isUrgent = (deadlineDate - new Date()) < 3 * 24 * 60 * 60 * 1000;
          
          return `
            <div style="display: flex; gap: 12px; padding: 16px; background: ${isUrgent ? '#fee2e2' : '#dcfce7'}; border-left: 4px solid ${isUrgent ? '#ef4444' : '#10b981'}; border-radius: 10px;">
              <div style="font-size: 24px; flex-shrink: 0;">${isUrgent ? 'üî•' : '‚úÖ'}</div>
              <div style="flex: 1;">
                <div style="color: #1f2937; font-size: 15px; line-height: 1.6; font-weight: 600; margin-bottom: 4px;">${taskItem.task}</div>
                <div style="color: ${isUrgent ? '#991b1b' : '#166534'}; font-size: 13px; font-weight: 500;">üìÖ Deadline: ${formattedDeadline} ${isUrgent ? '(Urgent!)' : ''}</div>
              </div>
            </div>
          `;
        }).join('');
      }
    }
  </script>

</body>
</html>
